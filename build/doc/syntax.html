<!DOCTYPE html><html><head><meta charset="utf-8" /><title>ECMAScript6 特性</title><link href="/stylesheets/app.css" rel="stylesheet" type="text/css" /><script src="/javascripts/app.js" type="text/javascript"></script></head><body><div class="sticky"><nav class="top-bar" data-options="sticky_on: large" data-topbar="" role="navigation"><ul class="title-area"><li class="name"><h1><a href="/"> ECMAScript6 Tutorial</a></h1></li><lwi class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></lwi></ul><section class="top-bar-section"><ul class="right"><li id="tool"><a href="/doc/start.html"> 前言</a></li><li id="optimisation"><a href="/doc/optimisation.html"> 优化</a></li><li id="syntax"><a href="/doc/syntax.html"> 语法</a></li><li id="bindings"><a href="/doc/bindings.html"> 绑定</a></li><li id="functions"><a href="/doc/functions.html"> 函数</a></li><li id="built-ins"><a href="/doc/built-ins.html"> 内建</a></li><li id="built-in-extensions"><a href="/doc/built-in-extensions.html"> 内建扩展</a></li><li id="subclassing"><a href="/doc/subclassing.html"> 子类</a></li><li id="misc"><a href="/doc/misc.html"> 混杂</a></li><li id="annex-b"><a href="/doc/annex-b.html"> 附录</a></li><li><a href="http://kangax.github.io/compat-table/es6/#ie11tp" target="_blank"> 兼容性</a></li></ul></section></nav></div><div class="wrap"><div class="row"><div class="large-12 columns"><div class="feature"><h4>一、函数的默认参数</h4><h5 class="subheader">Default function parameters</h5><div class="feature-content"><h5>1.基本特性</h5><h5 class="subheader">Basic functionality</h5><pre><code class="javascript">let r = (function (a = 1, b = 2) { return a === 3 && b === 2; }(3));</code></pre><h5>2.undefined 将触发该参数等于默认参数</h5><h5 class="subheader">Explicit undefined defers to the default</h5><pre><code class="javascript">let r = (function (a = 1, b = 2) { return a === 1 && b === 3; }(undefined, 3));</code></pre><h5>3.默认参数可以设为前一个传入的参数</h5><h5 class="subheader">Defaults can refer to previous params</h5><pre><code class="javascript">let r = (function (a, b = a) { return b === 5; }(5));</code></pre><h5>4.暂时性死区</h5><h5 class="subheader">Temporal dead zone</h5><pre><code class="javascript">let x;
let y;
try {
  (function(a=a){}());
  x = false
} catch(e) {
  console.log(e);
  x = true
}
try {
   (function(a=b,b){}());
   y = false;
} catch(e) {
  console.log(e);
  y = true;
}
console.log('x', x);
console.log('y', y);</code></pre><h5>5.块级作用域</h5><h5 class="subheader">Separate scope</h5><pre><code class="javascript">let r = (function(a=function(){
  return typeof b === 'undefined';
}){
  var b = 1;
  return a();
}());
console.log(r);</code></pre><h5>6.新的 Function() 支持</h5><h5 class="subheader">New Function() support</h5><pre><code class="javascript">let r = new Function("a = 1", "b = 2",
  "return a === 3 && b === 2;"
)(3);</code></pre></div></div><div class="feature"><h4>二、函数的剩余参数</h4><h5 class="subheader">rest parameters</h5><div class="feature-content"><h5>1.基本特性</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">let r = (function (foo, ...args) {
  return args instanceof Array && args + "" === "bar,baz";
}("foo", "bar", "baz"));</code></pre><h5>2.函数的 length 属性</h5><h5 class="subheader">function 'length' property</h5><pre><code class="javascript">let r = function(a, ...b){}.length === 1 && function(...c){}.length === 0;</code></pre><p>函数返回值为 true。</p><h5>3.参数对象</h5><h5 class="subheader">arguments object interaction</h5><pre><code class="javascript">let r = (function (foo, ...args) {
  foo = "qux";
  // The arguments object is not mapped to the
  // parameters, even outside of strict mode.
  return arguments.length === 3
    && arguments[0] === "foo"
    && arguments[1] === "bar"
    && arguments[2] === "baz";
}("foo", "bar", "baz"));</code></pre><p>函数返回值为 false。arguments 为 ["qux", "bar", "baz"]。</p><h5>4.不能在 setters 里使用</h5><h5 class="subheader">can't be used in setters</h5><pre><code class="javascript">let r = (function (...args) {
  try {
    eval("({set e(...args){}})");
  } catch(e) {
    return true;
  }
}());</code></pre><p>函数返回值为 true。</p><h5>4.新的 Function() 支持</h5><h5 class="subheader">new Function() support</h5><pre><code class="javascript">let r = new Function("a", "...b",
  "return b instanceof Array && a+b === 'foobar,baz';"
)('foo','bar','baz');</code></pre></div></div><div class="feature"><h4>三、... 操作符</h4><h5 class="subheader">spread (...) operator</h5><div class="feature-content"><h5>1.函数调用传入数组</h5><h5 class="subheader">with arrays, in function calls</h5><pre><code class="javascript">let r = Math.max(...[1, 2, 3]) === 3</code></pre><h5>2.数组字面量中使用数组</h5><h5 class="subheader">with arrays, in array literals</h5><pre><code class="javascript">let r = [...[1, 2, 3]][2] === 3;</code></pre><h5>3.函数调用传入字符串</h5><h5 class="subheader">with strings, in function calls</h5><pre><code class="javascript">let r = Math.max(..."1234") === 4;</code></pre><h5>4.数组字面量中使用字符串</h5><h5 class="subheader">with strings, in array literals</h5><pre><code class="javascript">let r = ["a", ..."bcd", "e"][3] === "d";</code></pre><h5></h5><h5 class="subheader">with astral plane strings, in function calls</h5><pre><code class="javascript">let r = Array(..."𠮷𠮶")[0] === "𠮷";</code></pre><h5></h5><h5 class="subheader">with astral plane strings, in array literals</h5><pre><code class="javascript">let r = [..."𠮷𠮶"][0] === "𠮷";</code></pre><h5></h5><h5 class="subheader">with generic iterables, in calls</h5><pre><code class="javascript">var iterable = global.__createIterableObject(1, 2, 3);
let r = Math.max(...iterable) === 3;</code></pre><h5></h5><h5 class="subheader">with generic iterables, in arrays</h5><pre><code class="javascript">var iterable = global.__createIterableObject("b", "c", "d");
let r = ["a", ...iterable, "e"][3] === "d";</code></pre><h5></h5><h5 class="subheader">with instances of iterables, in calls</h5><pre><code class="javascript">var iterable = global.__createIterableObject(1, 2, 3);
let r = Math.max(...Object.create(iterable)) === 3;</code></pre><h5></h5><h5 class="subheader">with instances of iterables, in arrays</h5><pre><code class="javascript">var iterable = global.__createIterableObject("b", "c", "d");
let r = ["a", ...Object.create(iterable), "e"][3] === "d";</code></pre></div></div><div class="feature"><h4>四、对象字面量扩展</h4><h5 class="subheader">object literal extensions</h5><div class="feature-content"><h5>1.属性计算</h5><h5 class="subheader">computed properties</h5><pre><code class="javascript">var x = 'y';
console.log(({ [x]: 1 }).y === 1);</code></pre><p>结果为 true。</p><h5>2.属性简写</h5><h5 class="subheader">shorthand properties</h5><pre><code class="javascript">var a = 7, b = 8, c = {a,b};
console.log(c.a === 7 && c.b === 8);</code></pre><p>结果为 true。</p><h5>3.方法简写</h5><h5 class="subheader">shorthand methods</h5><pre><code class="javascript">console.log({ y() { return 2; } }.y() === 2);</code></pre><p>结果为 true。</p><h5>4.特殊字符的方法简写</h5><h5 class="subheader">string-keyed shorthand methods</h5><pre><code class="javascript">console.log(({ "foo bar"() { return 4; } })["foo bar"]() === 4);</code></pre><p>结果为 true。    </p><h5>5.简写的计算方法</h5><h5 class="subheader">computed shorthand methods</h5><pre><code class="javascript">var x = 'y';
console.log(({ [x](){ return 1 } }).y() === 1);</code></pre><p>结果为 true。    </p><h5>6.访问</h5><h5 class="subheader">computed accessors</h5><pre><code class="javascript">var x = 'y',
    valueSet,
    obj = {
      get [x] () { return 1 },
      set [x] (value) { valueSet = value }
    };
obj.y = 'foo';
console.log(obj.y === 1 && valueSet === 'foo');</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>五、for...of 循环</h4><h5 class="subheader">for..of loops</h5><div class="feature-content"><h5>1.数组</h5><h5 class="subheader">with arrays</h5><pre><code class="javascript">var arr = [5];
for (var item of arr)
console.log(item === 5);</code></pre><p>结果为 true。</p><h5>2.字符串</h5><h5 class="subheader">with strings</h5><pre><code class="javascript">var str = "";
for (var item of "foo")
 str += item;
console.log(str === "foo");</code></pre><p>结果为 true。</p><h5>3.特殊字符串</h5><h5 class="subheader">with astral plane strings</h5><pre><code class="javascript">var str = "";
for (var item of "𠮷𠮶")
 str += item + " ";
console.log(str === "𠮷 𠮶 ");</code></pre><p>结果为 true。</p><h5>4.通用迭代器</h5><h5 class="subheader">with generic iterables</h5><pre><code class="javascript">var result = "";
var iterable = global.__createIterableObject(1, 2, 3);
for (var item of iterable) {
result += item;
}
console.log(return result === "123");</code></pre><h5>5.通用迭代的实例</h5><h5 class="subheader">with instances of generic iterables</h5><pre><code class="javascript">var result = "";
var iterable = global.__createIterableObject(1, 2, 3);
for (var item of Object.create(iterable)) {
 result += item;
}
console.log(result === "123");</code></pre><h5>6.迭代关闭，break</h5><h5 class="subheader">iterator closing, break</h5><pre><code class="javascript">var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
for (var it of iter) break;
console.log(closed);</code></pre><h5>7.迭代关闭，throw</h5><h5 class="subheader">iterator closing, throw</h5><pre><code class="javascript">var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
try {
for (var it of iter) throw 0;
} catch(e){}
console.log(closed);</code></pre></div></div><div class="feature"><h4>六、八进制和二进制</h4><h5 class="subheader">octal and binary literals</h5><div class="feature-content"><h5>1.八进制</h5><h5 class="subheader">octal literals</h5><pre><code class="javascript">console.log(0o10 === 8 && 0O10 === 8);</code></pre><p>结果为 true。</p><h5>2.二进制</h5><h5 class="subheader">binary literals</h5><pre><code class="javascript">console.log(0b10 === 2 && 0B10 === 2);</code></pre><p>结果为 true。</p><h5>3.Number() 支持八进制 </h5><h5 class="subheader">octal supported by Number()</h5><pre><code class="javascript">console.log(Number('0o1') === 1);</code></pre><p>结果为 true。</p><h5>4.Number() 支持二进制 </h5><h5 class="subheader">binary supported by Number()</h5><pre><code class="javascript">console.log(Number('0b1') === 1);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>七、模板字符串</h4><h5 class="subheader">template strings</h5><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">var a = "ba", b = "QUX";
console.log(`foo bar
${a + "z"} ${b.toLowerCase()}` === "foo bar\nbaz qux");</code></pre><p>结果为 true。</p><h5>2.标签模板字符串</h5><h5 class="subheader">tagged template strings</h5><pre><code class="javascript">var called = false;
function fn(parts, a, b) {
  called = true;
  return parts instanceof Array &&
    parts[0]     === "foo"      &&
    parts[1]     === "bar\n"    &&
    parts.raw[0] === "foo"      &&
    parts.raw[1] === "bar\\n"   &&
    a === 123                   &&
    b === 456;
}
console.log(fn `foo${123}bar\n${456}` && called);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>八、正则表达式'y' 和 'u'标志</h4><h5 class="subheader">RegExp "y" and "u" flags</h5><div class="feature-content"><h5>1.y 标志</h5><h5 class="subheader">"y" flag</h5><pre><code class="javascript">var re = new RegExp('\\w');
var re2 = new RegExp('\\w', 'y');
re.exec('xy');
re2.exec('xy');
console.log((re.exec('xy')[0] === 'x' && re2.exec('xy')[0] === 'y'));</code></pre><h5>2.u 标志</h5><h5 class="subheader">"u" flag</h5><pre><code class="javascript">console.log("𠮷".match(/^.$/u)[0].length === 2);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>九、解构</h4><h5 class="subheader">destructuring</h5><div class="feature-content"><h5>1.数组</h5><h5 class="subheader">with arrays</h5><pre><code class="javascript">var [a, , [b], c] = [5, null, [6]];
var d, e;
[d,e] = [7,8];
console.log(a === 5 && b === 6 && c === undefined
 && d === 7 && e === 8);</code></pre><p>结果为 true。</p><h5>2.字符串</h5><h5 class="subheader">with strings</h5><pre><code class="javascript">var [a, b, c] = "ab";
var d, e;
[d,e] = "de";
console.log(a === "a" && b === "b" && c === undefined
 && d === "d" && e === "e");</code></pre><p>结果为 true。</p><h5>3.特殊字符</h5><h5 class="subheader">with astral plane strings</h5><pre><code class="javascript">var c;
[c] = "𠮷𠮶";
console.log(c === "𠮷");</code></pre><p>结果为 true。</p><h5>4.通用迭代器</h5><h5 class="subheader">with generic iterables</h5><pre><code class="javascript">var [a, b, c] = global.__createIterableObject(1, 2);
var d, e;
[d, e] = global.__createIterableObject(3, 4);
console.log(a === 1 && b === 2 && c === undefined
 && d === 3 && e === 4);      </code></pre><h5>5.通用迭代器的实例</h5><h5 class="subheader">with instances of generic iterables</h5><pre><code class="javascript">var [a, b, c] = Object.create(global.__createIterableObject(1, 2))
var d, e;
[d, e] = Object.create(global.__createIterableObject(3, 4));
console.log(a === 1 && b === 2 && c === undefined
 && d === 3 && e === 4);</code></pre><h5>6.迭代器关闭</h5><h5 class="subheader">iterator closing</h5><pre><code class="javascript">var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
var [a, b] = iter;
console.log(closed);</code></pre><h5>7.迭代解构</h5><h5 class="subheader">iterable destructuring expression</h5><pre><code class="javascript">var a, b, iterable = [1,2];
console.log(([a, b] = iterable) === iterable);</code></pre><p>结果为 true。</p><h5>8.链式迭代解构</h5><h5 class="subheader">chained iterable destructuring</h5><pre><code class="javascript">var a,b,c,d;
[a,b] = [c,d] = [1,2];
console.log(a === 1 && b === 2 && c === 1 && d === 2);</code></pre><p>结果为 true。</p><h5>9.迭代模式中的逗号</h5><h5 class="subheader">trailing commas in iterable patterns</h5><pre><code class="javascript">var [a,] = [1];
console.log(a === 1);</code></pre><h5>10.对象</h5><h5 class="subheader">with objects</h5><pre><code class="javascript">var {c, x:d, e} = {c:7, x:8};
var f, g;
({f,g} = {f:9,g:10});
console.log(c === 7 && d === 8 && e === undefined
 && f === 9 && g === 10);</code></pre><p>结果为 true。</p><h5>11.原型中的对象解构</h5><h5 class="subheader">object destructuring with primitives</h5><pre><code class="javascript">var {toFixed} = 2;
var {slice} = '';
var toString, match;
({toString} = 2);
({match} = '');
console.log(toFixed === Number.prototype.toFixed
  && toString === Number.prototype.toString
  && slice === String.prototype.slice
  && match === String.prototype.match);</code></pre><p>结果为 true。</p><h5>12.对象中的逗号</h5><h5 class="subheader">trailing commas in object patterns</h5><pre><code class="javascript">var {a,} = {a:1};
console.log(a === 1);</code></pre><p>结果为 true。</p><h5>13.对象解构表达式</h5><h5 class="subheader">object destructuring expression</h5><pre><code class="javascript">var a, b, obj = { a:1, b:2 };
console.log(({a,b} = obj) === obj);</code></pre><p>结果为 true。</p><h5>14.链式的对象解构</h5><h5 class="subheader">chained object destructuring</h5><pre><code class="javascript">var a,b,c,d;
({a,b} = {c,d} = {a:1,b:2,c:3,d:4});
console.log(a === 1 && b === 2 && c === 3 && d === 4);</code></pre><p>结果为 true。</p><h5>15.null 和 undefined 时抛出异常</h5><h5 class="subheader">throws on null and undefined</h5><pre><code class="javascript">var status = true;
try {
var {a} = null;
 status = false;
} catch(e) {
 console.log('error');
}
try {
 var {b} = undefined;
 status = false;
} catch(e) {
 console.log('error');
}
console.log(status);</code></pre><p>结果为打印两次‘error' 和 一次 true。</p><h5>16.计算属性</h5><h5 class="subheader">computed properties</h5><pre><code class="javascript">var qux = "corge";
var { [qux]: grault } = { corge: "garply" };
console.log(grault === "garply");</code></pre><p>结果为 true。</p><h5>17.单个 var 声明多个变量</h5><h5 class="subheader">multiples in a single var statement</h5><pre><code class="javascript">var [a,b] = [5,6], {c,d} = {c:7,d:8};
console.log(a === 5 && b === 6 && c === 7 && d === 8);      </code></pre><p>结果为 true。</p><h5>18.嵌套</h5><h5 class="subheader">nested</h5><pre><code class="javascript">var [e, {x:f, g}] = [9, {x:10}];
var {h, x:[i]} = {h:11, x:[12]};
console.log(e === 9 && f === 10 && g === undefined
 && h === 11 && i === 12);</code></pre><p>结果为 true。</p><h5>19.参数</h5><h5 class="subheader">in parameters</h5><pre><code class="javascript">console.log((function({a, x:b, y:e}, [c, d]) {
 return a === 1 && b === 2 && c === 3 &&
 d === 4 && e === undefined;
}({a:1, x:2}, [3, 4])));</code></pre><p>结果为 true。</p><h5>20.new Function() 支持参数解构</h5><h5 class="subheader">in parameters, new Function() support</h5><pre><code class="javascript">console.log(new Function("{a, x:b, y:e}","[c, d]",
 "return a === 1 && b === 2 && c === 3 && "
 + "d === 4 && e === undefined;"
)({a:1, x:2}, [3, 4]));</code></pre><h5>21.函数的 length 属性</h5><h5 class="subheader">in parameters, function 'length' property</h5><pre><code class="javascript">console.log(function({a, b}, [c, d]){}.length === 2);</code></pre><p>结果为 true。</p><h5>22.for-in 循环</h5><h5 class="subheader">in for-in loop heads</h5><pre><code class="javascript">for(var [i, j, k] in { qux: 1 }) {
 console.log(i === "q" && j === "u" && k === "x");
}</code></pre><p>结果为 true。</p><h5>23.for-of 循环</h5><h5 class="subheader">in for-of loop heads</h5><pre><code class="javascript">for(var [i, j, k] of [[1,2,3]]) {
 console.log(i === 1 && j === 2 && k === 3);
}      </code></pre><p>结果为 true。</p><h5>24.Rest</h5><h5 class="subheader">rest</h5><pre><code class="javascript">var [a, ...b] = [3, 4, 5];
var [c, ...d] = [6];
console.log(a === 3 && b instanceof Array && (b + "") === "4,5" &&
 c === 6 && d instanceof Array && d.length === 0);</code></pre><p>结果为 true。</p><h5>25.嵌套的 Rest</h5><h5 class="subheader">nested rest</h5><pre><code class="javascript">var a = [1, 2, 3], first, last;
[first, ...[a[2], last]] = a;
console.log(first === 1 && last === 3 && (a + "") === "1,2,2");      </code></pre><p>结果为 true。</p><h5>26.默认</h5><h5 class="subheader">defaults</h5><pre><code class="javascript">var {a = 1, b = 0, c = 3} = {b:2, c:undefined};
console.log(a === 1 && b === 2 && c === 3);</code></pre><p>结果为 true。</p><h5>27.默认参数</h5><h5 class="subheader">defaults in parameters</h5><pre><code class="javascript">console.log((function({a = 1, b = 0, c = 3, x:d = 0, y:e = 5, z:f}) {
 return a === 1 && b === 2 && c === 3 && d === 4 &&
 e === 5 && f === undefined;
}({b:2, c:undefined, x:4})));      </code></pre><p>结果为 true。</p><h5>28.默认参数与暂时性死区</h5><h5 class="subheader">defaults, let temporal dead zone</h5><pre><code class="javascript">var status;
var {a, b = 2} = {a:1};
try {
 eval("let {c = c} = {};");
} catch(e){
 status = false;
}
try {
 eval("let {c = d, d} = {d:1};");
} catch(e){
 status = false;
}
console.log(a === 1 && b === 2);
console.log(status);</code></pre><p>结果为 true 和 false。</p><h5>29.默认参数，独立 scope</h5><h5 class="subheader">defaults in parameters, separate scope</h5><pre><code class="javascript">console.log((function({a=function(){
  return typeof b === 'undefined';
}}){
  var b = 1;
  return a();
}({})));</code></pre><h5>30.new Function() 支持默认参数</h5><h5 class="subheader">defaults in parameters, new Function() support</h5><pre><code class="javascript">console.log(new Function("{a = 1, b = 0, c = 3, x:d = 0, y:e = 5, z:f}",
  "return a === 1 && b === 2 && c === 3 && d === 4 && "
  + "e === 5 && f === undefined;"
)({b:2, c:undefined, x:4}));      </code></pre></div></div><div class="feature"><h4>十、Unicode 点</h4><h5 class="subheader">Unicode code point escapes</h5><div class="feature-content"><h5>1.字符串</h5><h5 class="subheader">in strings</h5><pre><code class="javascript">console.log('\u{1d306}' == '\ud834\udf06');</code></pre><p>结果为 true。</p><h5>2.y 标志</h5><h5 class="subheader">in identifiers</h5><pre><code class="javascript">var \u{102C0} = { \u{102C0} : 2 };
console.log(\u{102C0}['\ud800\udec0'] === 2);</code></pre></div></div><div class="feature"><h4>十一、new.target</h4><h5 class="subheader">new.target</h5><div class="feature-content"><h5>1.字符串</h5><h5 class="subheader">in constructors</h5><pre><code class="javascript">var passed = false;
new (function f() {
  passed = (new.target === f);
}());
(function() {
  passed &= (new.target === undefined);
}());
console.log(passed);</code></pre><h5>2.不能被赋值</h5><h5 class="subheader">can't be assigned to</h5><pre><code class="javascript">var passed = false;
new (function f() {
  passed = (new.target === f);
}());     
try {
  (function() {
    new.target = function(){};
  }());
} catch(e) {
  console.log(passed);
}</code></pre></div></div></div></div><script type="text/javascript">$("#syntax").addClass('active');</script></div><script type="text/javascript">$(document).foundation();
hljs.initHighlightingOnLoad();</script></body></html>